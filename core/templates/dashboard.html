{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block extra_head %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background-color: #f97316; color: white; }
    .sidebar { min-height: 80vh; background-color: #dc2626; color: white; }
    .sidebar a { text-decoration: none; display: flex; align-items: center; gap: 10px;
                 padding: 12px; color: white; border-radius: 6px; margin-bottom: 5px; font-size: 1rem; }
    .sidebar a:hover { background-color: white; color: #dc2626; }
    .card { border: none; border-radius: 12px; }
    .card-orange { background-color: #f97316; color: white; }
    .card-red { background-color: #dc2626; color: white; }
    .card-light { background-color: #fff; color: #333; }
    .publication-container { background: white; color: black; border-radius: 10px; padding: 20px; margin-bottom: 20px; }
    .publication-container h4 { font-weight: bold; color: #f97316; }
    .text-orange { color: #f97316 !important; }
    .text-red { color: #dc2626 !important; }
  </style>
{% endblock %}

{% block content %}
<div class="row">
  <!-- Sidebar -->
  <div class="col-md-3 col-lg-2 sidebar p-3">
    <h5 class="fw-bold mb-3">Menú</h5>
    <a href="{% url 'lista_publicaciones' %}"><i class="bi bi-chat-left-text"></i> Publicaciones</a>
    <a href="{% url 'lista_reportes' %}"><i class="bi bi-exclamation-triangle"></i> Reportes</a>
    <a href="{% url 'lista_multas' %}"><i class="bi bi-cash-coin"></i> Multas</a>
    <a href="#"><i class="bi bi-bag"></i> Objetos Perdidos</a>
    <a href="#"><i class="bi bi-shield-exclamation"></i> Botón de Pánico</a>
  </div>

  <!-- Contenido principal -->
  <div class="col-md-9 col-lg-10 p-4">
    <h2 class="fw-bold mb-4 text-orange">Publicaciones de Vecinos</h2>

    <!-- Placeholder (luego puedes cargar últimas N publicaciones si quieres) -->
    <div class="publication-container">
      <h4><i class="bi bi-chat-left-text"></i> Publicaciones</h4>
      <p>Aquí aparecerán las publicaciones recientes de la comunidad.</p>
      <a href="{% url 'lista_publicaciones' %}" class="btn btn-outline-warning btn-sm">Ir a Publicaciones</a>
    </div>

    <!-- Tarjetas de acceso rápido -->
    <div class="row g-4 mt-4">
      <div class="col-md-4">
        <div class="card card-orange shadow">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-exclamation-triangle"></i> Reportes</h5>
            <p class="card-text">Revisa y crea reportes de incidentes.</p>
            <a href="{% url 'lista_reportes' %}" class="btn btn-light w-100">Abrir</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card card-light shadow">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-cash-coin"></i> Multas</h5>
            <p class="card-text">Consulta y paga tus multas.</p>
            <a href="{% url 'lista_multas' %}" class="btn btn-warning w-100">Ver Multas</a>
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="card card-red shadow">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-shield-exclamation"></i> Botón de Pánico</h5>
            <p class="card-text">Usar solo en emergencias.</p>
            <form method="post" action="{% url 'activar_panico' %}">
              {% csrf_token %}
              <button type="submit" class="btn btn-light w-100">
                Activar
              </button>
            </form>
              <a href="{% url 'historial_panico' %}" class="btn btn-outline-light w-100 mt-2">
                Ver Historial
            </a>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}