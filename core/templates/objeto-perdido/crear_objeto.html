{% extends "base.html" %}
{% block title %}Reportar Objeto Perdido{% endblock %}

{% block content %}
<div class="container-fluid" style="max-width: 900px;">

  <!-- Encabezado -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1 class="mb-1" style="font-family: var(--font-code);">
        <i class="bi bi-bag text-primary"></i>
        Reportar Objeto Perdido
      </h1>
      <p class="text-muted mb-0" style="font-size: 0.875rem;">
        Registra un nuevo objeto perdido en tu comunidad
      </p>
    </div>
    <a href="{% url 'lista_objetos_perdidos' %}" class="btn btn-outline-secondary">
      <i class="bi bi-arrow-left"></i> Volver
    </a>
  </div>

  <div class="row g-4">
    <!-- Formulario -->
    <div class="col-lg-8">
      <div class="card">
        <div class="card-body">

          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- Campo: Título -->
            <div class="mb-3">
              <label for="{{ form_safe.titulo.id_for_label }}" class="form-label">
                Nombre del objeto
              </label>
              {{ form_safe.titulo }}
              <small class="text-muted">Ejemplo: "Llaves con llavero azul"</small>

              {% if form.titulo.errors %}
                <div class="text-danger small mt-1">{{ form.titulo.errors.0 }}</div>
              {% endif %}
            </div>

            <!-- Campo: Descripción -->
            <div class="mb-3">
              <label for="{{ form_safe.descripcion.id_for_label }}" class="form-label">
                Descripción detallada
              </label>
              {{ form_safe.descripcion }}
              <small class="text-muted">
                Incluye detalles como color, tamaño, sitio donde se perdió, etc.
              </small>

              {% if form.descripcion.errors %}
                <div class="text-danger small mt-1">{{ form.descripcion.errors.0 }}</div>
              {% endif %}
            </div>

            <!-- Campo: Imagen -->
            <div class="mb-4">
              <label for="{{ form_safe.imagen.id_for_label }}" class="form-label">
                Fotografía del objeto
              </label>
              {{ form_safe.imagen }}
              <small class="text-muted">Opcional, pero ayuda muchísimo a identificarlo.</small>

              {% if form.imagen.errors %}
                <div class="text-danger small mt-1">{{ form.imagen.errors.0 }}</div>
              {% endif %}
            </div>

            <!-- Botones -->
            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-send"></i> Reportar Objeto
              </button>
              <a href="{% url 'lista_objetos_perdidos' %}" class="btn btn-outline-secondary">
                Cancelar
              </a>
            </div>

          </form>

        </div>
      </div>
    </div>

    <!-- Panel lateral -->
    <div class="col-lg-4">
      <div class="card mb-3">
        <div class="card-header">
          <i class="bi bi-info-circle"></i> Información útil
        </div>
        <div class="card-body small">
          <div class="mb-2">
            <i class="bi bi-calendar"></i> La fecha se registra automáticamente
          </div>
          <div class="mb-2">
            <i class="bi bi-person-badge"></i> Tu usuario quedará registrado como reportante
          </div>
          <div>
            <i class="bi bi-bag"></i> Podrás marcarlo como encontrado más adelante
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <i class="bi bi-lightbulb"></i> Consejos
        </div>
        <div class="card-body">
          <ul class="mb-0 small" style="padding-left: 1.25rem;">
            <li class="mb-2"><strong>Sé específico:</strong> describe claramente el objeto</li>
            <li class="mb-2"><strong>Aporta contexto:</strong> indica dónde o cuándo se perdió</li>
            <li><strong>Usa fotos nítidas:</strong> facilitará su identificación</li>
          </ul>
        </div>
      </div>
    </div>

  </div>

</div>
{% endblock %}
